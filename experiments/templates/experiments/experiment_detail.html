{% extends 'layout.html' %}
{% load staticfiles %}
{% load bootstrap4 %}
{% block content %}

<div class="masonry-item col-md-12 bgc-white p-20" style="position: relative; margin-left:auto; margin-right:auto;">
	<div class="row mB-20">
		<div class="col-4">			
			<select class="qdropdown form-control" name="experiment">
				{% for exp_item in experiment_list %}
				<Option value="{{exp_item.id}}" {% ifequal exp_item exp_opt.id %} selected="selected" {% endifequal %}>{{ exp_item.test_name}}</Option>
				{% endfor %}
			</select>
		</div>
		<div class="col-4">{{ experiment.goal }}</div>
		<div class="col-4">{{ experiment.created }}</div>
	</div>
	<div class="row mB-40">
		<div class="col-4"><h3>{{ experiment.test_name }}</h3></div>
		<div class="col-4">{{ experiment.additional_comments }}</div>
		<div class="col-4">{{ experiment.modified }}</div>
	</div>
	<div class="row">
		<div class="col-6">
			<select class="qdropdown form-control" name="sensor_id">
						{% for sensoropt in sensor_data %}
						<Option value="{{sensoropt.sensor_id}}" {% ifequal sensor_id sensoropt.sensor_id %} selected="selected" {% endifequal %}>{{ sensoropt.sensor_description}}</Option>
						{% endfor %}
					</select>
					<br>
			<table class="table table-striped">
				<thead>
					<tr>

						<th scope="col" width="40%">Sensor</th>
						<th scope="col" width="10%">Value</th>
						<th scope="col" width="25%">Time</th>
						<th scope="col" width="25%">Group</th>

					</tr>
				</thead>
				<tbody>
					{% for numerical_data in numerical_datalist %}
					<tr>
						<td>{{ numerical_data.sensor_description }}</td>
						<td>{{ numerical_data.value|floatformat:2 }}</td>
						<td>{{ numerical_data.time }}</td>
						<td>{{ numerical_data.time }}</td>
					</tr>
					{% endfor %}

				</tbody>
			</table>
		</div>
		<div class="col-6">
			<div class="layer">
				<canvas id="mixed-chart" width="800" height="450"></canvas>
			</div>
		</div>
	</div>
</div>
{% endblock %}

{% block extra_js %}
<script type="text/javascript">
	new Chart(document.getElementById("mixed-chart"), {
    type: 'bar',
    data: {
      labels: ["1900", "1950", "1999", "2050"],
      datasets: [{
          label: "Europe",
          type: "line",
          borderColor: "#8e5ea2",
          data: [408,547,675,734],
          fill: false
        }, {
          label: "Africa",
          type: "line",
          borderColor: "#3e95cd",
          data: [133,221,783,2478],
          fill: false
        }, {
          label: "Europe",
          type: "bar",
          backgroundColor: "rgba(0,0,0,0.2)",
          data: [408,547,675,734],
        }, {
          label: "Africa",
          type: "bar",
          backgroundColor: "rgba(0,0,0,0.2)",
          backgroundColorHover: "#3e95cd",
          data: [133,221,783,2478]
        }
      ]
    },
    options: {
      title: {
        display: true,
        text: 'Population growth (millions): Europe & Africa'
      },
      legend: { display: false }
    }
});

</script>
{% endblock %}

